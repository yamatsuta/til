##### Webpacker

javascriptのビルドツールであるwebpackのラッパー　Railsの開発したgem

webpackをよりRailsらしく扱うことができるようになる　Rails.6.0から標準で実装

> ##### webpack
>
> CSSやJavaScript、画像などのプログラムを作成する際の部品であるモジュールを、１つのファイルとしてまとめるためのモジュールバンドラーです。 Node.jsで、サーバーサイドで動きます。 平たく言うと、WebpackはJavaScriptファイルのコーディングにおいて、開発を効率的におこなうことができるよう助けるような役割を担っているということです

機能の領域としてはsprocketsと被っているため、`sprockets`を使うのか、`webpacker`を使うのか、一時的な併用を容認するのか、アプリの要件によって考える必要がある

利点：

* ES2015以降の仕様でjsをかける
* jsのビルドプロセスをカスタマイズできる
* webpackコマンドをRakeタスクとして提供する
* ビューヘルパーの提供
* ファイルの変更を検知して即、自動で画面をビルドするwebpask-dev-serverコマンドを提供する **ホットリロード**

```
gem 'webpacker' # 導入
```

パッケージの管理はyarnが行うのでyarnは必須

```
bin/rails webpacker:install # 設定ファイルやディレクトリを生成、jsパッケージをインストールする
```

`app/javascript/packs`ディレクトリが作成され、中に`application.js`が作成される

sprocketsにおけるマニフェストファイルと機能は似ている　エントリポイントと言う

`/packs`配下にはこのエントリポイント用のファイルしかおかない

コンパイルさせたいjsファイルは別フォルダを作成して中で作る

流れ：

* 自前で作成した`app/javascript/なんたら`ディレクトリ配下のファイルで任意のjsパッケモジュールをimportする

* `packs/`配下のファイル(エントリポイント)がjsファイルをまとめてコンパイルしてくれる

```
# 任意のビュー
<%= javascript_pack_tag(jsファイル名。拡張子はいらない) %>
```

* webpackerの用意したビューヘルパーを使うことで、指定したjsファイル(エントリポインｔ)を呼び出し、表示させる





***

#### 
