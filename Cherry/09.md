#### 9章　例外処理(TIL)

大事なのは、何ができるかではなく、どう使うか

できることと、やっていいことは異なる

##### rescue:

発生した例外オブジェクトを捕捉する

捕捉したい例外クラスを指定した場合は、その例外クラスが起こった場合にのみ捕捉することができる

変数に格納すればより汎用的

指定しなければ、捕捉されるのはStandardErrorとそのサブクラスのエラーのみ

複数のエラーをrescueしたいなら、書く順番には注意　先にサブクラスを書くこと

##### #raise:

意図的に例外を発生させる

文字列を渡せば、原因がわかりやすくなる　この場合はRuntimeError

第一引数に例外、第二引数に文字列を渡せば、任意の例外クラスを発生させられる



##### 機能としては用意されているが、安易にrescueを使わない：

どうしてもrescueするなら、必ず例外クラス、メッセージ、バックトレースをログで残す

##### 条件分岐を駆使し、そもそも例外を起こさせない：

エラーが起きそうな部分が事前に分かるのなら、条件分岐で回避する

問題の有無を事前にチェックできるメソッドがないか、APIドキュメントを見る

##### case when:

を使うなら、必ずelseを用意して、想定外のパターンがやってきたときに例外を発生させることを検討する

##### ensure:

例外が発生したら、通常そこで処理はストップする

例外が発生しても、必ず行って欲しい処理をensure以下にかく

ただ、ブロックを使えば、同等の処理をしてくれる場合があるので、これもAPIドキュメントで探す

Rubyはかなり便利なメソッドを事前に、多く、用意してくれているので。



##### 例外の捕捉は、ここぞというときにのみ使うよう心がける

